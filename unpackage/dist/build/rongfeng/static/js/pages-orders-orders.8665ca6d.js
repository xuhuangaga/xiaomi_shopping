(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orders-orders"],{"03e7":function(t,n,e){"use strict";var s;e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return s}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"p-10 bc-w head p-f z wbfb",class:[{"f-a-c":!t.isCenter},{"f-j-b":t.isCenter},{"t-w":t.isCenter}],style:{"background-color":t.bgc}},[t.isBack?e("v-uni-view",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goBack.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"back",attrs:{src:"/static/back.png"}})],1):t._e(),e("v-uni-view",{staticClass:"m-l10 title",class:{"t-a-c":t.isCenter}},[t._v(t._s(t.title))]),t._t("right")],2)},i=[]},"08e2":function(t,n,e){var s=e("24fb");n=s(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.address-dv[data-v-0c412d23]{min-height:%?1000?%;padding-top:%?100?%;padding-bottom:%?200?%}.order-bottom[data-v-0c412d23]{left:0;right:0;bottom:0}',""]),t.exports=n},"0b1c":function(t,n,e){"use strict";var s=e("9ee1"),a=e.n(s);a.a},"22d6":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return s}));var s={ccPopup:e("1448").default,ccCouponList:e("0edb").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"br-10 m-t10 bc-w p-10"},t._l(t.carList,(function(n,s){return e("v-uni-view",{key:s,staticClass:"f-a-c m-b10 br-10"},[e("v-uni-view",{staticClass:"goods-img f-1"},[e("v-uni-image",{staticClass:"goods-img br-10",attrs:{src:n.goods.cover}})],1),e("v-uni-view",{staticClass:"f-j-b f-2 m-l10"},[e("v-uni-view",{},[e("v-uni-view",{staticClass:"m-b10 lh25 sl-one order-p-name f-s14"},[t._v(t._s(n.goods.name))]),e("v-uni-view",{staticClass:"f-a-c sl-three f-s12"},t._l(n.spec,(function(s,a){return e("v-uni-view",{key:a},[t._v(t._s(s.checked)),a<n.spec.length-1?e("v-uni-text",[t._v(",")]):t._e()],1)})),1)],1)],1),e("v-uni-view",{},[e("v-uni-view",{staticClass:"f-s14"},[t._v("￥"+t._s(n.goods.presentPrice))]),e("v-uni-view",{staticClass:"m-t10 t-a-c f-c-9 f-s12"},[t._v("x "+t._s(n.count))])],1)],1)})),1),e("v-uni-view",{staticClass:"br-10 bc-w p-10 f-c-9 m-t10"},[e("v-uni-view",{staticClass:"f-j-b p-b10"},[e("v-uni-view",{},[t._v("商品总价")]),e("v-uni-view",{},[t._v("￥"+t._s(t.totalMoney))])],1),e("v-uni-view",{staticClass:"f-j-b m-t-b10"},[e("v-uni-view",{},[t._v("运费")]),e("v-uni-view",{},[t._v("包邮")])],1),e("v-uni-view",{staticClass:"f-j-b p-t10"},[e("v-uni-view",{},[t._v("优惠券")]),e("v-uni-view",{staticClass:"f-j-b"},[t.discount?e("v-uni-view",{staticClass:"left-con",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setBottomShow.apply(void 0,arguments)}}},[t._v("-￥"+t._s(t.discount))]):e("v-uni-view",{staticClass:"left-con",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setBottomShow.apply(void 0,arguments)}}},[t._v("可用优惠券 "+t._s(t.coupons.length)+" 张")]),e("v-uni-view",{staticClass:"m-l10"},[e("v-uni-image",{staticStyle:{width:"50rpx",height:"50rpx"},attrs:{src:"/static/right.png"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"br-10 bc-w p-10 f-c-9 m-t10"},[e("v-uni-view",{staticClass:"f-j-b"},[e("v-uni-view",{},[t._v("发票")]),e("v-uni-view",{},[t._v("电子普通发票-个人")])],1)],1),e("cc-popup",{attrs:{height:"1000",round:!0,show:t.show,mode:"bottom"},on:{"update:show":function(n){arguments[0]=n=t.$handleEvent(n),t.show=n},close:function(n){arguments[0]=n=t.$handleEvent(n),t.close.apply(void 0,arguments)}}},[t.coupons.length||t.disabledCoupons.length?[e("cc-coupon-list",{attrs:{coupons:t.coupons,"disabled-coupons":t.disabledCoupons},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.change.apply(void 0,arguments)}}})]:t._e()],2)],1)},i=[]},"2a0b":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return s}));var s={ccSubmitBar:e("e107").default,ccPasswordInput:e("c5be").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"bc-e "},[e("Head",{attrs:{isBack:!0,bgc:"#F3f4f5",title:"确认订单"}}),e("v-uni-view",{staticClass:"address-dv p-10"},[t.defaultAddress?e("v-uni-view",{staticClass:"br-10 bc-w f-j-b p-10",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goto.apply(void 0,arguments)}}},[e("v-uni-view",{},[e("v-uni-view",{staticClass:"f-a-c"},[e("v-uni-view",{},[t._v(t._s(t.defaultAddress.username))]),e("v-uni-view",{staticClass:"m-l10"},[t._v(t._s(t.defaultAddress.mobile))])],1),e("v-uni-view",{staticClass:"m-t10"},[t._v(t._s(t.defaultAddress.address))])],1),e("v-uni-view",{},[e("v-uni-image",{staticStyle:{width:"50rpx",height:"50rpx"},attrs:{src:"/static/right.png"}})],1)],1):e("v-uni-view",{staticClass:"f-j-c br-10 bc-w p-10",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goto.apply(void 0,arguments)}}},[e("v-uni-view",{},[t._v("请选择收货地址>>")])],1),e("v-uni-view",{staticStyle:{"margin-top":"-30rpx"}},[e("v-uni-image",{staticClass:"wbfb",staticStyle:{height:"6rpx"},attrs:{src:"/static/caitiao.jpg"}})],1),e("Orders",{attrs:{carList:t.carList,totalMoney:t.totalMoney,discount:t.discount},on:{setDisCount:function(n){arguments[0]=n=t.$handleEvent(n),t.setDisCount.apply(void 0,arguments)},setBottomShow:function(n){arguments[0]=n=t.$handleEvent(n),t.setBottomShow.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"p-f order-bottom p-tb10 bc-w",class:{z:t.bottomShow}},[e("cc-submit-bar",{attrs:{price:100*t.totalMoney,buttonText:"去付款",buttonColor:"#Ff6c18"},on:{submit:function(n){arguments[0]=n=t.$handleEvent(n),t.show=!0}}},[e("v-uni-text",[t._v("共 "+t._s(t.carList.length)+" 件")])],1)],1),e("cc-password-input",{attrs:{value:t.show},on:{"update:value":function(n){arguments[0]=n=t.$handleEvent(n),t.show=n},complete:function(n){arguments[0]=n=t.$handleEvent(n),t.handleComplete.apply(void 0,arguments)},change:function(n){arguments[0]=n=t.$handleEvent(n),t.handleChange.apply(void 0,arguments)},backspace:function(n){arguments[0]=n=t.$handleEvent(n),t.handleBackspace.apply(void 0,arguments)}}})],1)},i=[]},"2ea6":function(t,n,e){"use strict";e.r(n);var s=e("22d6"),a=e("8cbb");for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("8dcb");var o,r=e("f0c5"),c=Object(r["a"])(a["default"],s["b"],s["c"],!1,null,"d6675ba8",null,!1,s["a"],o);n["default"]=c.exports},3674:function(t,n,e){var s=e("08e2");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("274a8ef8",s,!0,{sourceMap:!1,shadowMode:!1})},"4ee9":function(t,n,e){var s=e("68f5");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("5ae803dc",s,!0,{sourceMap:!1,shadowMode:!1})},6028:function(t,n,e){"use strict";var s=e("4ea4");e("d81d"),e("a9e3"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("5530")),i=s(e("5c2d")),o=e("2f62"),r=(0,o.createNamespacedHelpers)("orders"),c=r.mapActions,u=r.mapState,d={components:{},props:{carList:{type:Array},totalMoney:{type:Number},discount:{type:Number}},data:function(){return{show:!1,coupons:[],disabledCoupons:[]}},methods:(0,a.default)((0,a.default)({},c(["getCoupons"])),{},{change:function(t){this.$emit("setDisCount",Number(t.item.valueDesc))},setBottomShow:function(){this.show=!0,this.$emit("setBottomShow",!1)},close:function(){this.$emit("setBottomShow",!0)}}),mounted:function(){},created:function(){this.getCoupons()},onLoad:function(){},onShow:function(){},filters:{},computed:(0,a.default)({},u(["couponList"])),watch:{couponList:function(t){var n=this;this.disabledCoupons=[],this.coupons=[],t&&t.length&&t.map((function(t){if(n.totalMoney>=Number(t.threshold)&&(0,i.default)(t.start_time).valueOf()<=(0,i.default)().valueOf()&&(0,i.default)(t.end_time).valueOf()>(0,i.default)().valueOf())n.coupons.push(t);else{var e="";e=n.totalMoney<Number(t.threshold)?"未达到使用门槛":(0,i.default)(t.start_time).valueOf()>(0,i.default)().valueOf()?"未开始":"已过期",t.reason=e,n.disabledCoupons.push(t)}}))}}};n.default=d},"65ae":function(t,n,e){"use strict";var s=e("3674"),a=e.n(s);a.a},"68f5":function(t,n,e){var s=e("24fb");n=s(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.goods-img[data-v-d6675ba8]{width:%?180?%;height:%?180?%}.order-p-name[data-v-d6675ba8]{width:%?300?%}.left-con[data-v-d6675ba8]{margin-top:%?-8?%}',""]),t.exports=n},70530:function(t,n,e){"use strict";var s=e("4ea4");e("4de4"),e("d81d"),e("a9e3"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("5530")),i=s(e("971a")),o=s(e("2ea6")),r=e("2f62"),c=(0,r.createNamespacedHelpers)("users"),u=c.mapActions,d=c.mapState,l=(0,r.createNamespacedHelpers)("orders"),f=l.mapActions,v=(l.mapState,{components:{Head:i.default,Orders:o.default},props:{},data:function(){return{list:null,defaultAddress:null,discount:0,bottomShow:!1,show:!1,value:""}},methods:(0,a.default)((0,a.default)({handleComplete:function(t){"123456"===t?(this.submit(),this.show=!1):(uni.showToast({title:"密码输入有误，请重新输入",icon:"none"}),this.show=!0)},handleChange:function(t){console.log("change",t)},handleBackspace:function(t){console.log("backspace",t)},setBottomShow:function(t){this.bottomShow=t},setDisCount:function(t){this.discount=t},goto:function(){uni.setStorageSync("isOrders",1),uni.navigateTo({url:"/pages/address/address"})},submit:function(){this.defaultAddress?this.addOrders({user_id:this.user._id,price:this.totalMoney,address:this.defaultAddress.address,count:this.carList.length,pay_time:new Date,goods_list:this.carList,mobile:this.defaultAddress.mobile}):uni.showToast({title:"请选择收货地址",icon:"none"})}},u(["getAddress"])),f(["addOrders","getCoupons"])),mounted:function(){},onLoad:function(){},onShow:function(){this.user&&this.getAddress(this.user._id)},filters:{},computed:(0,a.default)({carList:function(){return uni.getStorageSync("toBePay")},user:function(){return uni.getStorageSync("userInfo")},totalMoney:function(){var t=0,n=this.carList;return n.map((function(n){t+=Number(n.count)*n.goods.presentPrice})),t-this.discount}},d(["addressList"])),watch:{addressList:function(t){if(t&&t.length){this.list=t;var n=this.list.filter((function(t){return t.isDefault}));n.length?this.defaultAddress=n[0]:this.defaultAddress=uni.getStorageSync("defaultAddress")}}}});n.default=v},"7bf3":function(t,n,e){"use strict";e.r(n);var s=e("70530"),a=e.n(s);for(var i in s)"default"!==i&&function(t){e.d(n,t,(function(){return s[t]}))}(i);n["default"]=a.a},"7da8":function(t,n,e){"use strict";e.r(n);var s=e("ee77"),a=e.n(s);for(var i in s)"default"!==i&&function(t){e.d(n,t,(function(){return s[t]}))}(i);n["default"]=a.a},"8cbb":function(t,n,e){"use strict";e.r(n);var s=e("6028"),a=e.n(s);for(var i in s)"default"!==i&&function(t){e.d(n,t,(function(){return s[t]}))}(i);n["default"]=a.a},"8dcb":function(t,n,e){"use strict";var s=e("4ee9"),a=e.n(s);a.a},"971a":function(t,n,e){"use strict";e.r(n);var s=e("03e7"),a=e("7da8");for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("0b1c");var o,r=e("f0c5"),c=Object(r["a"])(a["default"],s["b"],s["c"],!1,null,"a678ae0a",null,!1,s["a"],o);n["default"]=c.exports},"9ee1":function(t,n,e){var s=e("dec9");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("5466d780",s,!0,{sourceMap:!1,shadowMode:!1})},ca2c:function(t,n,e){"use strict";e.r(n);var s=e("2a0b"),a=e("7bf3");for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("65ae");var o,r=e("f0c5"),c=Object(r["a"])(a["default"],s["b"],s["c"],!1,null,"0c412d23",null,!1,s["a"],o);n["default"]=c.exports},dec9:function(t,n,e){var s=e("24fb");n=s(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.back[data-v-a678ae0a]{width:%?40?%;height:%?40?%}.title[data-v-a678ae0a]{margin-top:%?-10?%}.t-w[data-v-a678ae0a]{width:95%}',""]),t.exports=n},ee77:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={components:{},props:{isBack:{type:Boolean},title:{type:String,default:"小米Lite"},bgc:{type:String,default:"#fff"},isCenter:{type:Boolean,default:!1}},data:function(){return{}},methods:{goBack:function(){uni.navigateBack()}},mounted:function(){},onLoad:function(){},onShow:function(){},filters:{},computed:{},watch:{}};n.default=s}}]);